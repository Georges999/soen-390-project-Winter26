appId: host.exp.exponent
---
# =========================
# Launch Expo + open app
# =========================
- launchApp
- waitForAnimationToEnd

- extendedWaitUntil:
    visible: "campus-guide"
    timeout: 30000
- tapOn: "campus-guide"
- waitForAnimationToEnd

# Ensure SGW tab
- extendedWaitUntil:
    visible: "SGW"
    timeout: 30000
- tapOn: "SGW"
- waitForAnimationToEnd

# =====================================================
# Search buildings by typing + autocomplete
# =====================================================

# Start building (typed search)
- tapOn: { id: "start-input" }
- eraseText
- inputText: "Hall"

- extendedWaitUntil:
    visible: "Henry F. Hall Building"
    timeout: 8000
- tapOn: "Henry F. Hall Building"
- waitForAnimationToEnd

- assertVisible: "Henry F. Hall Building"

# Destination building (typed search)
- tapOn: { id: "dest-input" }
- eraseText
- inputText: "Administration"

- extendedWaitUntil:
    visible: "Administration Building"
    timeout: 8000
- tapOn: "Administration Building"
- waitForAnimationToEnd

- assertVisible: "Administration Building"

- hideKeyboard
- waitForAnimationToEnd

# ============================================
# Switch start/end using toggle button
# ============================================

# Wait for swap icon to appear
- extendedWaitUntil:
    visible: ""
    timeout: 5000

- tapOn: ""
- waitForAnimationToEnd

# Verify both buildings still visible after swap
- assertVisible: "Henry F. Hall Building"
- assertVisible: "Administration Building"
